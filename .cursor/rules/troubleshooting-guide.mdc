# å¸¸è§é—®é¢˜æ’æŸ¥æŒ‡å—

## æ„å»ºå’Œé…ç½®é—®é¢˜

### 1. Tailwind CSS v4 è‡ªå®šä¹‰å­—ä½“é…ç½®é”™è¯¯ ğŸš¨

#### é”™è¯¯ä¿¡æ¯
```
Error: Cannot apply unknown utility class `font-chinese`. Are you using CSS modules or similar and missing `@reference`?
```

#### åŸå› åˆ†æ
Tailwind CSS v4 ä¸å†ä½¿ç”¨ `tailwind.config.js` é…ç½®è‡ªå®šä¹‰å­—ä½“ï¼Œéœ€è¦ä½¿ç”¨ `@theme` æŒ‡ä»¤åœ¨CSSä¸­å®šä¹‰ã€‚

#### è§£å†³æ–¹æ¡ˆ
**æ­¥éª¤1ï¼šæ›´æ–°CSSæ–‡ä»¶**
```css
/* âŒ é”™è¯¯å†™æ³• - v3è¯­æ³• */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* âœ… æ­£ç¡®å†™æ³• - v4è¯­æ³• */
@import 'tailwindcss';

@theme {
  --font-chinese: 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', ui-sans-serif, system-ui, sans-serif;
  --spacing-calendar: 2.5rem;
  --grid-template-columns-calendar: repeat(7, 1fr);
}
```

**æ­¥éª¤2ï¼šç§»é™¤config.jsä¸­çš„æ‰€æœ‰ä¸»é¢˜é…ç½®**
```javascript
// âŒ v4ä¸­ä¸å†éœ€è¦
module.exports = {
  theme: {
    extend: {
      fontFamily: {
        chinese: ['PingFang SC', 'sans-serif']
      },
      gridTemplateColumns: {
        calendar: 'repeat(7, 1fr)'
      },
      spacing: {
        calendar: '2.5rem'
      }
    }
  }
}

// âœ… v4ä¸­æ‰€æœ‰ä¸»é¢˜å˜é‡é€šè¿‡@themeé…ç½®
```

**å¸¸è§çš„v4ä¸»é¢˜å˜é‡æ˜ å°„**
```css
@theme {
  /* å­—ä½“ */
  --font-{name}: font-family-value;
  
  /* é—´è· */
  --spacing-{name}: size-value;
  
  /* ç½‘æ ¼åˆ— */
  --grid-template-columns-{name}: grid-value;
  
  /* é¢œè‰² */
  --color-{name}-{shade}: color-value;
}
```

### 2. Tailwind CSS v4 PostCSSæ’ä»¶é”™è¯¯ ğŸš¨

#### é”™è¯¯ä¿¡æ¯
```
[plugin:vite:css] [postcss] It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin. The PostCSS plugin has moved to a separate package, so to continue using Tailwind CSS with PostCSS you'll need to install `@tailwindcss/postcss`
```

#### åŸå› åˆ†æ
Tailwind CSS v4 å°†PostCSSæ’ä»¶ç§»åˆ°äº†ç‹¬ç«‹çš„åŒ… `@tailwindcss/postcss` ä¸­ã€‚

#### è§£å†³æ–¹æ¡ˆ
```bash
# 1. å®‰è£…æ–°çš„PostCSSæ’ä»¶
npm install @tailwindcss/postcss --save-dev
```

```javascript
// 2. æ›´æ–° postcss.config.js
// âŒ é”™è¯¯å†™æ³• (v4ä¸å†æ”¯æŒ)
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {}
  }
}

// âœ… æ­£ç¡®å†™æ³• (v4æ–°è¯­æ³•)
module.exports = {
  plugins: {
    '@tailwindcss/postcss': {},
    autoprefixer: {}
  }
}
```

### 2. PostCSS é…ç½®è¯­æ³•é”™è¯¯ âš ï¸ 

#### é”™è¯¯ä¿¡æ¯
```
SyntaxError: Unexpected token 'export'
/path/to/postcss.config.js:1
export default {
^^^^^^
```

#### åŸå› åˆ†æ
PostCSS é…ç½®æ–‡ä»¶å¿…é¡»ä½¿ç”¨ CommonJS è¯­æ³•ï¼Œä¸èƒ½ä½¿ç”¨ ES æ¨¡å—è¯­æ³•ã€‚

#### è§£å†³æ–¹æ¡ˆ
```javascript
// âŒ é”™è¯¯å†™æ³•
export default {
  plugins: {
    '@tailwindcss/postcss': {},
    autoprefixer: {}
  }
}

// âœ… æ­£ç¡®å†™æ³•  
module.exports = {
  plugins: {
    '@tailwindcss/postcss': {},
    autoprefixer: {}
  }
}
```

### 2. Tailwind é…ç½®é”™è¯¯

#### é”™è¯¯ä¿¡æ¯
```
Error [ERR_REQUIRE_ESM]: require() of ES Module
```

#### è§£å†³æ–¹æ¡ˆ
```javascript
// tailwind.config.js - ä½¿ç”¨ CommonJS
module.exports = {
  content: ['./src/**/*.{js,ts,jsx,tsx}'],
  // ...
}
```

### 3. TypeScript ç±»å‹æ£€æŸ¥å¤±è´¥

#### é”™è¯¯ä¿¡æ¯
```
TS2307: Cannot find module 'tailwindcss' or its corresponding type declarations.
```

#### è§£å†³æ–¹æ¡ˆ
```bash
# å®‰è£…ç±»å‹å®šä¹‰
npm install -D @types/tailwindcss

# æˆ–è€…åœ¨æ–‡ä»¶ä¸­æ·»åŠ ç±»å‹æ³¨é‡Š
/** @type {import('tailwindcss').Config} */
```

## ä¾èµ–åŒ…é—®é¢˜

### 1. åŒ…ç‰ˆæœ¬å†²çª

#### é”™è¯¯ä¿¡æ¯
```
npm warn EBADENGINE Unsupported engine
```

#### è§£å†³æ–¹æ¡ˆ
```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node --version

# æ›´æ–°åˆ°æ”¯æŒçš„ç‰ˆæœ¬ï¼Œæˆ–å¿½ç•¥è­¦å‘Šç»§ç»­å¼€å‘
npm install --legacy-peer-deps
```

### 2. ç¼ºå¤±ä¾èµ–

#### é”™è¯¯ä¿¡æ¯
```
Module not found: Can't resolve 'antd'
```

#### è§£å†³æ–¹æ¡ˆ
```bash
# æ£€æŸ¥ package.json ä¸­æ˜¯å¦æœ‰è¯¥ä¾èµ–
npm list | grep antd

# å®‰è£…ç¼ºå¤±çš„ä¾èµ–
npm install antd
```

## å¼€å‘æœåŠ¡å™¨é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨

#### é”™è¯¯ä¿¡æ¯
```
Error: listen EADDRINUSE: address already in use :::5173
```

#### è§£å†³æ–¹æ¡ˆ
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :5173

# æ€æ­»è¿›ç¨‹
kill -9 <PID>

# æˆ–è€…ä½¿ç”¨ä¸åŒç«¯å£
npm run dev -- --port 5174
```

### 2. çƒ­é‡è½½ä¸å·¥ä½œ

#### ç—‡çŠ¶
ä¿®æ”¹æ–‡ä»¶åé¡µé¢ä¸è‡ªåŠ¨åˆ·æ–°

#### è§£å†³æ–¹æ¡ˆ
```bash
# æ£€æŸ¥æ–‡ä»¶ç›‘å¬
ps aux | grep electron-vite

# é‡å¯å¼€å‘æœåŠ¡å™¨
npm run dev
```

## Electron ç‰¹å®šé—®é¢˜

### 1. ä¸»è¿›ç¨‹é”™è¯¯

#### é”™è¯¯ä¿¡æ¯
```
App threw an error during load
Error: Cannot find module './preload'
```

#### è§£å†³æ–¹æ¡ˆ
```bash
# é‡æ–°æ„å»º
npm run build

# æ£€æŸ¥é¢„åŠ è½½è„šæœ¬è·¯å¾„
cat src/main/index.ts | grep preload
```

### 2. æ¸²æŸ“è¿›ç¨‹é€šä¿¡é”™è¯¯

#### é”™è¯¯ä¿¡æ¯
```
window.electron is undefined
```

#### è§£å†³æ–¹æ¡ˆ
æ£€æŸ¥é¢„åŠ è½½è„šæœ¬æ˜¯å¦æ­£ç¡®é…ç½®ï¼š
```typescript
// src/preload/index.ts
import { contextBridge, ipcRenderer } from 'electron'

contextBridge.exposeInMainWorld('electron', {
  ipcRenderer: {
    send: (channel: string, ...args: any[]) => ipcRenderer.send(channel, ...args),
    // ...
  }
})
```

## æ ·å¼å’Œ UI é—®é¢˜

### 1. Tailwind æ ·å¼ä¸ç”Ÿæ•ˆ

#### ç—‡çŠ¶
Tailwind CSS ç±»åæ²¡æœ‰æ ·å¼æ•ˆæœ

#### æ’æŸ¥æ­¥éª¤
```bash
# 1. æ£€æŸ¥ Tailwind é…ç½®æ–‡ä»¶
cat tailwind.config.js

# 2. æ£€æŸ¥ CSS å¯¼å…¥
grep -r "tailwind.css" src/

# 3. æ£€æŸ¥æ„å»ºè¾“å‡º
npm run build 2>&1 | grep -i tailwind
```

#### è§£å†³æ–¹æ¡ˆ
```css
/* ç¡®ä¿æ­£ç¡®å¯¼å…¥ Tailwind */
@tailwind base;
@tailwind components; 
@tailwind utilities;
```

### 2. æ·±è‰²æ¨¡å¼ä¸å·¥ä½œ

#### è§£å†³æ–¹æ¡ˆ
```typescript
// æ£€æŸ¥ HTML ç±»ååˆ‡æ¢
const toggleDarkMode = () => {
  document.documentElement.classList.toggle('dark')
}
```

## æ‰“åŒ…å’Œå‘å¸ƒé—®é¢˜

### 1. å›¾æ ‡ä¸æ˜¾ç¤º

#### é”™è¯¯ä¿¡æ¯
```
Error: Cannot find icon file
```

#### è§£å†³æ–¹æ¡ˆ
```bash
# æ£€æŸ¥å›¾æ ‡æ–‡ä»¶
ls -la resources/

# æ›´æ–° electron-builder é…ç½®
cat electron-builder.yml | grep icon
```

### 2. ä»£ç ç­¾åå¤±è´¥

#### é”™è¯¯ä¿¡æ¯
```
Error: Application failed to sign
```

#### è§£å†³æ–¹æ¡ˆ
```bash
# macOS æ£€æŸ¥è¯ä¹¦
security find-identity -v -p codesigning

# é…ç½® electron-builder
# electron-builder.yml
mac:
  identity: "Developer ID Application: Your Name"
```

## è°ƒè¯•æŠ€å·§

### 1. å¼€å‘å·¥å…·

#### ä¸»è¿›ç¨‹è°ƒè¯•
```bash
# å¯ç”¨ä¸»è¿›ç¨‹è°ƒè¯•
DEBUG=electron:* npm run dev
```

#### æ¸²æŸ“è¿›ç¨‹è°ƒè¯•
```bash
# æ‰“å¼€å¼€å‘è€…å·¥å…·
æŒ‰ F12 æˆ– Cmd+Option+I
```

### 2. æ—¥å¿—è¾“å‡º

#### ä¸»è¿›ç¨‹æ—¥å¿—
```typescript
// src/main/index.ts
console.log('Main process log:', data)
app.on('ready', () => {
  console.log('App is ready')
})
```

#### æ¸²æŸ“è¿›ç¨‹æ—¥å¿—
```typescript
// src/renderer/src/App.tsx
console.log('Renderer process log:', data)
useEffect(() => {
  console.log('Component mounted')
}, [])
```

### 3. ç½‘ç»œé—®é¢˜

#### æ£€æŸ¥è¿æ¥
```bash
# æµ‹è¯•å¼€å‘æœåŠ¡å™¨
curl -I http://localhost:5173

# æ£€æŸ¥ç½‘ç»œä»£ç†
echo $HTTP_PROXY
echo $HTTPS_PROXY
```

## é—®é¢˜æŠ¥å‘Šæ¨¡æ¿

å½“é‡åˆ°æ–°é—®é¢˜æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹æ ¼å¼è®°å½•ï¼š

```markdown
## é—®é¢˜æè¿°
ç®€çŸ­æè¿°é—®é¢˜ç°è±¡

## é”™è¯¯ä¿¡æ¯
```
å®Œæ•´çš„é”™è¯¯å †æ ˆä¿¡æ¯
```

## é‡ç°æ­¥éª¤
1. ç¬¬ä¸€æ­¥æ“ä½œ
2. ç¬¬äºŒæ­¥æ“ä½œ
3. å‡ºç°é”™è¯¯

## ç¯å¢ƒä¿¡æ¯
- Node.js ç‰ˆæœ¬: `node --version`
- npm ç‰ˆæœ¬: `npm --version`  
- æ“ä½œç³»ç»Ÿ: macOS/Windows/Linux
- é¡¹ç›®ç‰ˆæœ¬: `cat package.json | grep version`

## è§£å†³æ–¹æ¡ˆ
è®°å½•è§£å†³æ­¥éª¤å’Œæ–¹æ³•
```

## é¢„é˜²æªæ–½

### 1. ä»£ç å®¡æŸ¥æ£€æŸ¥ç‚¹
- [ ] é…ç½®æ–‡ä»¶ä½¿ç”¨æ­£ç¡®çš„æ¨¡å—è¯­æ³•
- [ ] ä¾èµ–åŒ…ç‰ˆæœ¬å…¼å®¹
- [ ] è·¯å¾„å¼•ç”¨æ­£ç¡®
- [ ] ç±»å‹å®šä¹‰å®Œæ•´

### 2. è‡ªåŠ¨åŒ–æ£€æŸ¥
```json
// package.json
{
  "scripts": {
    "lint": "eslint --cache .",
    "typecheck": "tsc --noEmit",
    "test:config": "node -c tailwind.config.js && node -c postcss.config.js"
  }
}
```

### 3. å¼€å‘ç¯å¢ƒæ£€æŸ¥
```bash
# å®šæœŸè¿è¡Œå®Œæ•´æ£€æŸ¥
npm run lint && npm run typecheck && npm run test:config
```

è®°ä½ï¼š**å¤§å¤šæ•°é—®é¢˜éƒ½æœ‰ç°æˆçš„è§£å†³æ–¹æ¡ˆï¼Œé‡åˆ°é—®é¢˜æ—¶å…ˆæŸ¥çœ‹æ­¤æŒ‡å—ï¼**