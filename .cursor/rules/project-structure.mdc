# ä¸‡å¹´å†åº”ç”¨é¡¹ç›®ç»“æ„è§„èŒƒ

## é¡¹ç›®æ¦‚è¿°
è¿™æ˜¯ä¸€ä¸ªåŸºäº Electron + React + TypeScript çš„ä¸‡å¹´å†æ¡Œé¢åº”ç”¨ï¼Œæ”¯æŒå†œå†ã€èŠ‚æ—¥ã€ä¸ªäººäº‹ä»¶ç­‰åŠŸèƒ½ã€‚

## æŠ€æœ¯æ ˆ
- **ä¸»æ¡†æ¶**: Electron
- **å‰ç«¯**: React 19 + TypeScript
- **æ„å»ºå·¥å…·**: electron-vite
- **UIæ ·å¼**: Tailwind CSS
- **æ—¥æœŸå¤„ç†**: dayjs + lunar-javascript
- **æ•°æ®å­˜å‚¨**: electron-store
- **ç½‘ç»œè¯·æ±‚**: axios

## é¡¹ç›®ç»“æ„è§„èŒƒ

### è¿›ç¨‹åˆ†å±‚
- [src/main](mdc:src/main): Electronä¸»è¿›ç¨‹ï¼Œè´Ÿè´£ç³»ç»Ÿçº§åŠŸèƒ½
- [src/preload](mdc:src/preload): é¢„åŠ è½½è„šæœ¬ï¼Œå®‰å…¨åœ°æš´éœ²API
- [src/renderer](mdc:src/renderer): æ¸²æŸ“è¿›ç¨‹ï¼Œå®ç°ç”¨æˆ·ç•Œé¢

### ä¸»è¿›ç¨‹ç»“æ„ (src/main/) - ç®€åŒ–ç‰ˆ
```
src/main/
â”œâ”€â”€ index.ts                 # ä¸»è¿›ç¨‹å…¥å£
â”œâ”€â”€ window.ts               # çª—å£ç®¡ç†
â”œâ”€â”€ tray.ts                 # ç³»ç»Ÿæ‰˜ç›˜
â”œâ”€â”€ settings.ts             # è®¾ç½®ç®¡ç†
â”œâ”€â”€ ipc.ts                  # æ‰€æœ‰IPCé€šä¿¡å¤„ç†
â”œâ”€â”€ constants.ts            # å¸¸é‡å®šä¹‰
â””â”€â”€ dateIconManager.ts      # å›¾æ ‡ç®¡ç†
```

### é¢„åŠ è½½è„šæœ¬ç»“æ„ (src/preload/) - ç®€åŒ–ç‰ˆ
```
src/preload/
â”œâ”€â”€ index.ts                # é¢„åŠ è½½è„šæœ¬å…¥å£
â””â”€â”€ api.ts                  # æ‰€æœ‰APIæ¥å£ï¼ˆçª—å£ã€æ‰˜ç›˜ã€è®¾ç½®ï¼‰
```

### æ¸²æŸ“è¿›ç¨‹ç»“æ„ (src/renderer/) - ç®€åŒ–ç‰ˆ
```
src/renderer/
â”œâ”€â”€ index.html              # ä¸»HTMLæ–‡ä»¶
â””â”€â”€ src/
    â”œâ”€â”€ main.tsx           # åº”ç”¨å…¥å£
    â”œâ”€â”€ App.tsx            # ä¸»åº”ç”¨ç»„ä»¶
    â”œâ”€â”€ components/         # Reactç»„ä»¶
    â”‚   â”œâ”€â”€ Calendar/      # æ—¥å†ç»„ä»¶
    â”‚   â”œâ”€â”€ Settings/      # è®¾ç½®ç»„ä»¶
    â”‚   â””â”€â”€ ui/            # é€šç”¨UIç»„ä»¶
    â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰Hooks
    â”‚   â”œâ”€â”€ useCalendar.ts
    â”‚   â”œâ”€â”€ useLunarDate.ts
    â”‚   â”œâ”€â”€ useSettings.ts
    â”‚   â”œâ”€â”€ useTray.ts
    â”‚   â””â”€â”€ useWindow.ts
    â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
    â”‚   â”œâ”€â”€ classUtils.ts
    â”‚   â”œâ”€â”€ dateUtils.ts
    â”‚   â””â”€â”€ lunarUtils.ts
    â”œâ”€â”€ constants/          # å¸¸é‡å®šä¹‰
    â”‚   â”œâ”€â”€ icons.ts
    â”‚   â””â”€â”€ window.ts
    â”œâ”€â”€ types.ts            # æ‰€æœ‰ç±»å‹å®šä¹‰
    â””â”€â”€ assets/             # é™æ€èµ„æº
        â”œâ”€â”€ tailwind.css
        â”œâ”€â”€ main.css
        â””â”€â”€ base.css
```

### åŠŸèƒ½æ¨¡å—ç»„ç»‡è§„èŒƒ

æ¯ä¸ªåŠŸèƒ½æ¨¡å—åº”åŒ…å«ï¼š
```
features/calendar/
â”œâ”€â”€ components/             # æ¨¡å—ä¸“ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ CalendarGrid.tsx
â”‚   â”œâ”€â”€ CalendarHeader.tsx
â”‚   â””â”€â”€ CalendarDay.tsx
â”œâ”€â”€ hooks/                  # æ¨¡å—ä¸“ç”¨é’©å­
â”‚   â”œâ”€â”€ useCalendar.ts
â”‚   â””â”€â”€ useCalendarNavigation.ts
â”œâ”€â”€ stores/                 # æ¨¡å—çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ calendar-store.ts
â”œâ”€â”€ utils/                  # æ¨¡å—å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ calendar-utils.ts
â”‚   â””â”€â”€ navigation-utils.ts
â””â”€â”€ types.ts               # æ¨¡å—ç±»å‹å®šä¹‰
```

### é…ç½®æ–‡ä»¶
- [package.json](mdc:package.json) - é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
- [electron.vite.config.ts](mdc:electron.vite.config.ts) - æ„å»ºé…ç½®
- [tsconfig.json](mdc:tsconfig.json) - TypeScripté…ç½®
- [eslint.config.mjs](mdc:eslint.config.mjs) - ESLinté…ç½®
- [electron-builder.yml](mdc:electron-builder.yml) - æ‰“åŒ…é…ç½®
- [tailwind.config.js](mdc:tailwind.config.js) - Tailwind CSSé…ç½®
- [postcss.config.js](mdc:postcss.config.js) - PostCSSé…ç½®

âš ï¸ **é‡è¦**: é…ç½®æ–‡ä»¶å¿…é¡»ä½¿ç”¨æ­£ç¡®çš„æ¨¡å—è¯­æ³•ï¼Œè¯¦è§ [é…ç½®æ–‡ä»¶ç¼–å†™è§„èŒƒ](mdc:.cursor/rules/config-files-standards.mdc)

## å‘½åè§„èŒƒ

### æ–‡ä»¶å‘½åè§„èŒƒ
- **ç»„ä»¶æ–‡ä»¶/ç›®å½•**: ä½¿ç”¨ PascalCaseï¼Œå¦‚ `Calendar.tsx`, `EventForm/`
- **å·¥å…·/é…ç½®æ–‡ä»¶**: ä½¿ç”¨ camelCaseï¼Œå¦‚ `dateUtils.ts`, `lunarUtils.ts`
- **æ ·å¼æ–‡ä»¶**: ä½¿ç”¨ camelCaseï¼Œå¦‚ `calendarStyles.css`
- **ç±»å‹æ–‡ä»¶**: ä½¿ç”¨ camelCase + .tsï¼Œå¦‚ `calendarTypes.ts`
- **å¸¸é‡æ–‡ä»¶**: ä½¿ç”¨ UPPER_SNAKE_CASEï¼Œå¦‚ `CONSTANTS.ts`

### ç›®å½•å‘½åè§„èŒƒ
- **åŠŸèƒ½æ¨¡å—**: ä½¿ç”¨ camelCaseï¼Œå¦‚ `calendar/`, `eventManagement/`
- **ç»„ä»¶ç›®å½•**: ä½¿ç”¨ PascalCaseï¼Œå¦‚ `Calendar/`, `EventForm/`
- **å·¥å…·ç›®å½•**: ä½¿ç”¨ camelCaseï¼Œå¦‚ `utils/`, `hooks/`

## å¼€å‘æŒ‡å¯¼

### å¼€å‘ä¼˜å…ˆçº§
1. ç³»ç»Ÿæ‰˜ç›˜å’Œçª—å£ç®¡ç†
2. æ—¥å†æ ¸å¿ƒåŠŸèƒ½ï¼ˆå†œå†ã€èŠ‚æ—¥ï¼‰
3. äº‹ä»¶ç®¡ç†åŠŸèƒ½
4. æ•°æ®å­˜å‚¨å’ŒåŒæ­¥
5. UI/UX ä¼˜åŒ–
6. ç³»ç»Ÿé›†æˆï¼ˆè‡ªå¯åŠ¨ã€æ›´æ–°ï¼‰

### å…³é”®è§„èŒƒæ–‡æ¡£
- [Tailwind CSS v4 è¿ç§»æŒ‡å—](mdc:.cursor/rules/tailwind-v4-migration.mdc) - v4å®Œæ•´è¿ç§»æ–¹æ¡ˆ ğŸš€
- [å›¾æ ‡ä½¿ç”¨è§„èŒƒ](mdc:.cursor/rules/icon-usage-guide.mdc) - Lucide Reactå›¾æ ‡æ–¹æ¡ˆ ğŸ¨
- [macOS èœå•æ åº”ç”¨è§„èŒƒ](mdc:.cursor/rules/macos-menubar-app.mdc) - èœå•æ åº”ç”¨å¼€å‘æŒ‡å— ğŸ
- [åŠ¨æ€æ—¥æœŸå›¾æ ‡è§„èŒƒ](mdc:.cursor/rules/dynamic-date-icon.mdc) - æ™ºèƒ½æ—¥æœŸå›¾æ ‡å®ç° ğŸ“…
- [é…ç½®æ–‡ä»¶ç¼–å†™è§„èŒƒ](mdc:.cursor/rules/config-files-standards.mdc) - é¿å…æ¨¡å—è¯­æ³•é”™è¯¯ âš ï¸
- [TypeScript ä»£ç æ ¼å¼è§„èŒƒ](mdc:.cursor/rules/typescript-code-style.mdc) - ç»Ÿä¸€ä»£ç é£æ ¼ ğŸ¨
- [å¼€å‘å·¥ä½œæµç¨‹è§„èŒƒ](mdc:.cursor/rules/development-workflow.mdc) - ä»£ç æäº¤æµç¨‹ ğŸ”„
- [TypeScript ä»£ç è§„èŒƒ](mdc:.cursor/rules/typescript-standards.mdc) - ä»£ç è´¨é‡æ ‡å‡†
- [Tailwind CSS æ ·å¼è§„èŒƒ](mdc:.cursor/rules/tailwind-styling.mdc) - UIæ ·å¼å¼€å‘æŒ‡å¯¼
- [æ¨¡å—ç»„ç»‡è§„èŒƒ](mdc:.cursor/rules/module-organization.mdc) - ä»£ç æ¶æ„æŒ‡å¯¼
- [æ•°æ®å­˜å‚¨æ–¹æ¡ˆå¯¹æ¯”](mdc:.cursor/rules/data-storage-comparison.mdc) - æŠ€æœ¯é€‰å‹åˆ†æ ğŸ“Š
- [å¸¸è§é—®é¢˜æ’æŸ¥æŒ‡å—](mdc:.cursor/rules/troubleshooting-guide.mdc) - é—®é¢˜å¿«é€Ÿè§£å†³ ğŸ”§
